Return-Path: <owner-linux-mm@kvack.org>
Received: from mail-it0-f69.google.com (mail-it0-f69.google.com [209.85.214.69])
	by kanga.kvack.org (Postfix) with ESMTP id CFF5B6B0010
	for <linux-mm@kvack.org>; Sat,  4 Aug 2018 09:33:03 -0400 (EDT)
Received: by mail-it0-f69.google.com with SMTP id a10-v6so7959656itc.9
        for <linux-mm@kvack.org>; Sat, 04 Aug 2018 06:33:03 -0700 (PDT)
Received: from mail-sor-f69.google.com (mail-sor-f69.google.com. [209.85.220.69])
        by mx.google.com with SMTPS id b205-v6sor733172itg.133.2018.08.04.06.33.02
        for <linux-mm@kvack.org>
        (Google Transport Security);
        Sat, 04 Aug 2018 06:33:02 -0700 (PDT)
MIME-Version: 1.0
Date: Sat, 04 Aug 2018 06:33:02 -0700
Message-ID: <0000000000005e979605729c1564@google.com>
Subject: WARNING in try_charge
From: syzbot <syzbot+bab151e82a4e973fa325@syzkaller.appspotmail.com>
Content-Type: text/plain; charset="UTF-8"; format=flowed; delsp=yes
Sender: owner-linux-mm@kvack.org
List-ID: <linux-mm.kvack.org>
To: cgroups@vger.kernel.org, hannes@cmpxchg.org, linux-kernel@vger.kernel.org, linux-mm@kvack.org, mhocko@kernel.org, syzkaller-bugs@googlegroups.com, vdavydov.dev@gmail.com

Hello,

syzbot found the following crash on:

HEAD commit:    d1e0b8e0cb7a Add linux-next specific files for 20180725
git tree:       linux-next
console output: https://syzkaller.appspot.com/x/log.txt?x=15a1c770400000
kernel config:  https://syzkaller.appspot.com/x/.config?x=eef3552c897e4d33
dashboard link: https://syzkaller.appspot.com/bug?extid=bab151e82a4e973fa325
compiler:       gcc (GCC) 8.0.1 20180413 (experimental)

Unfortunately, I don't have any reproducer for this crash yet.

IMPORTANT: if you fix the bug, please add the following tag to the commit:
Reported-by: syzbot+bab151e82a4e973fa325@syzkaller.appspotmail.com

Killed process 23767 (syz-executor2) total-vm:70472kB, anon-rss:104kB,  
file-rss:32768kB, shmem-rss:0kB
oom_reaper: reaped process 23767 (syz-executor2), now anon-rss:0kB,  
file-rss:32000kB, shmem-rss:0kB
------------[ cut here ]------------
Memory cgroup charge failed because of no reclaimable memory! This looks  
like a misconfiguration or a kernel bug.
WARNING: CPU: 1 PID: 23767 at mm/memcontrol.c:1710 mem_cgroup_oom  
mm/memcontrol.c:1709 [inline]
WARNING: CPU: 1 PID: 23767 at mm/memcontrol.c:1710 try_charge+0x734/0x1680  
mm/memcontrol.c:2211
Kernel panic - not syncing: panic_on_warn set ...

CPU: 1 PID: 23767 Comm: syz-executor2 Not tainted 4.18.0-rc6-next-20180725+  
#18
Hardware name: Google Google Compute Engine/Google Compute Engine, BIOS  
Google 01/01/2011
Call Trace:
  __dump_stack lib/dump_stack.c:77 [inline]
  dump_stack+0x1c9/0x2b4 lib/dump_stack.c:113
  panic+0x238/0x4e7 kernel/panic.c:184


---
This bug is generated by a bot. It may contain errors.
See https://goo.gl/tpsmEJ for more information about syzbot.
syzbot engineers can be reached at syzkaller@googlegroups.com.

syzbot will keep track of this bug report. See:
https://goo.gl/tpsmEJ#bug-status-tracking for how to communicate with  
syzbot.
