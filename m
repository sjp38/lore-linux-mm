Date: Tue, 12 Oct 2004 19:56:57 +0900
From: IWAMOTO Toshihiro <iwamoto@valinux.co.jp>
Subject: Re: [RFC] memory defragmentation to satisfy high order allocations
In-Reply-To: <20041008153646.GJ16028@logos.cnet>
References: <20041008100010.GB16028@logos.cnet>
	<20041008.212319.19886370.taka@valinux.co.jp>
	<20041008124149.GI16028@logos.cnet>
	<20041009.015239.74741436.taka@valinux.co.jp>
	<20041008153646.GJ16028@logos.cnet>
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Message-Id: <20041012105657.D1D0670463@sv1.valinux.co.jp>
Sender: owner-linux-mm@kvack.org
Return-Path: <owner-linux-mm@kvack.org>
To: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Cc: Hirokazu Takahashi <taka@valinux.co.jp>, iwamoto@valinux.co.jp, haveblue@us.ibm.com, linux-mm@kvack.org
List-ID: <linux-mm.kvack.org>

At Fri, 8 Oct 2004 12:36:46 -0300,
Marcelo Tosatti wrote:
> 
> On Sat, Oct 09, 2004 at 01:52:39AM +0900, Hirokazu Takahashi wrote:
> > Hi, Marcelo.
> > 
> > > > > > > That is, if we can't migrate the page, try to write it out?
> > > > > 
> > > > > I just didnt understand the logic very well, maybe I should just 
> > > > > go reread the code.
> > > > > 
> > > > > Thanks!
> > > 
> > > I'm thinking about how to implement a nonblocking version of generic_migrate_page().
> > > 
> > > For this purpose its really bad to allocate swap space to anonymous pages, well
> > > need to figure out someother way of blocking the users via pagetablefault.
> > > 
> > > Like a "virtual" swap space but without allocating swap map space. 
> > 
> > I've also ever thought to implement such a device.
> > It would be nice if you can design it simple.
> > 
> > Mr.Iwamoto thought otherwise and posted another opinion on the lhms
> > list, though. I felt it also has a point.
> > 
> > iwamoto> I don't think requiring swap is a big deal.  If you don't have a
> > iwamoto> dedicated swap device, which case I think unusual, you can swapon a
> > iwamoto> regular file.
> 
> Sure its not a big deal, but nicer if it doesnt require swap.

> For memory defragmentation it is a big deal.

Why?  IMO, it isn't very rewarding to tune memory
migration/defragmentation performance as they involve memory copy
anyway.

Or, do you want memory defragmentation everywhere, including embedded
systems?

--
IWAMOTO Toshihiro
--
To unsubscribe, send a message with 'unsubscribe linux-mm' in
the body to majordomo@kvack.org.  For more info on Linux MM,
see: http://www.linux-mm.org/ .
Don't email: <a href=mailto:"aart@kvack.org"> aart@kvack.org </a>
