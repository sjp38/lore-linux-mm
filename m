Return-Path: <owner-linux-mm@kvack.org>
Received: from mail-pa0-f41.google.com (mail-pa0-f41.google.com [209.85.220.41])
	by kanga.kvack.org (Postfix) with ESMTP id 3A7FD6B0038
	for <linux-mm@kvack.org>; Wed, 19 Aug 2015 21:26:30 -0400 (EDT)
Received: by paccq16 with SMTP id cq16so15151036pac.1
        for <linux-mm@kvack.org>; Wed, 19 Aug 2015 18:26:30 -0700 (PDT)
Received: from COL004-OMC1S10.hotmail.com (col004-omc1s10.hotmail.com. [65.55.34.20])
        by mx.google.com with ESMTPS id jc2si4588597pbb.1.2015.08.19.18.26.29
        for <linux-mm@kvack.org>
        (version=TLSv1.2 cipher=ECDHE-RSA-AES128-SHA bits=128/128);
        Wed, 19 Aug 2015 18:26:29 -0700 (PDT)
Message-ID: <COL130-W42419C917737D318BC8E6DB9660@phx.gbl>
From: gchen gchen <xili_gchen_5257@hotmail.com>
Subject: Re: [PATCH] mm: mmap: Simplify the failure return working flow
Date: Thu, 20 Aug 2015 09:26:28 +0800
In-Reply-To: <55D52C9A.5060705@hotmail.com>
References: <55D5275D.7020406@hotmail.com>
 <COL130-W46B6A43FC26795B43939E0B9660@phx.gbl>,<55D52C9A.5060705@hotmail.com>
Content-Type: text/plain; charset="gb2312"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
Sender: owner-linux-mm@kvack.org
List-ID: <linux-mm.kvack.org>
To: Andrew Morton <akpm@linux-foundation.org>
Cc: kernel mailing list <linux-kernel@vger.kernel.org>, "Kirill A. Shutemov" <kirill.shutemov@linux.intel.com>, "riel@redhat.com" <riel@redhat.com>, Michal Hocko <mhocko@suse.cz>, "sasha.levin@oracle.com" <sasha.levin@oracle.com>, Linux Memory <linux-mm@kvack.org>

PGJyPk9uIFR1ZSwgMTggQXVnIDIwMTUgMTU6NTc6MDggLTA3MDAgYWtwbUBsaW51eC1mb3VuZGF0
aW9uLm9yZyB3cm90ZTo8YnI+Jmd0Ozxicj4mZ3Q7IE9uIFdlZCwgMTkgQXVnIDIwMTUgMDY6Mjc6
NTggKzA4MDAgQ2hlbiBHYW5nPGJyPiZndDsgJmx0O3hpbGlfZ2NoZW5fNTI1N0Bob3RtYWlsLmNv
bSZndDsgd3JvdGU6PGJyPiZndDs8YnI+Jmd0OyZndDsgRnJvbTogQ2hlbiBHYW5nICZsdDt4aWxp
X2djaGVuXzUyNTdAaG90bWFpbC5jb20mZ3Q7PGJyPiZndDs8YnI+Jmd0OyBBcyBzZW50LCB0aGlz
IHBhdGNoIGlzIEZyb206eW91QGhvdG1haWwgYW5kIFNpZ25lZC1vZmYtYnk6eW91QGdtYWlsLjxi
cj4mZ3Q7PGJyPiZndDsgVGhpcyBpcyBwZWN1bGlhci4gIEknbSBhc3N1bWluZyB0aGF0IGl0IHNo
b3VsZCBoYXZlIGJlZW4gRnJvbTp5b3VAZ21haWwgYW5kPGJyPiZndDsgSSBoYXZlIG1hZGUgdGhh
dCBjaGFuZ2UgdG8gbXkgY29weSBvZiB0aGUgcGF0Y2guPGJyPiZndDs8YnI+Jmd0OyBZb3UgY2Fu
IGRvIHRoaXMgeW91cnNlbGYgYnkgcHV0dGluZyBhbiBleHBsaWNpdCBGcm9tOiBsaW5lIGF0IHRo
ZSBzdGFydDxicj4mZ3Q7IG9mIHRoZSBjaGFuZ2Vsb2cuPGJyPiZndDs8YnI+PGJyPlllcywgaXQg
aXMgcmVhbGx5IHBlY3VsaWFyLCB0aGUgcmVhc29uIGlzIGdtYWlsIGlzIG5vdCBzdGFibGUgaW4g
Q2hpbmEuPGJyPkkgaGF2ZSB0byBzZW5kIG1haWwgaW4gbXkgaG90bWFpbCBhZGRyZXNzLjxicj48
YnI+QnV0IEkgc3RpbGwgd2FudCB0byB1c2UgbXkgZ21haWwgYXMgU2lnbmVkLW9mZi1ieSwgc2lu
Y2UgSSBoYXZlIGFscmVhZHk8YnI+dXNlZCBpdCwgYW5kIGFsc28gaXRzIG5hbWUgaXMgYSBsaXR0
bGUgZm9ybWFsIHRoYW4gbXkgaG90bWFpbC48YnI+PGJyPldlbGNvbWUgYW55IGlkZWFzLCBzdWdn
ZXN0aW9ucyBhbmQgY29tcGxldGlvbnMgZm9yIGl0IChlLmcuIGlmIGl0IGlzPGJyPm5lY2Vzc2Fy
eSB0byBsZXQgc2VuZCBtYWlsIGFuZCBTaWduZWQtb2ZmLWJ5IG1haWwgYmUgdGhlIHNhbWUsIEkg
c2hhbGw8YnI+dHJ5KS48YnI+PGJyPlsuLi5dPGJyPjxicj4mZ3Q7IFNvLDxicj4mZ3Q7PGJyPiZn
dDsgLS0tIGEvbW0vbW1hcC5jfm1tLW1tYXAtc2ltcGxpZnktdGhlLWZhaWx1cmUtcmV0dXJuLXdv
cmtpbmctZmxvdy1maXg8YnI+Jmd0OyArKysgYS9tbS9tbWFwLmM8YnI+Jmd0OyBAQCAtMjk1Miw3
ICsyOTUyLDcgQEAgc3RydWN0IHZtX2FyZWFfc3RydWN0ICpjb3B5X3ZtYShzdHJ1Y3Qgdjxicj4m
Z3Q7ICAgICAgICAgfSBlbHNlIHs8YnI+Jmd0OyAgICAgICAgICAgICAgICAgbmV3X3ZtYSA9IGtt
ZW1fY2FjaGVfYWxsb2Modm1fYXJlYV9jYWNoZXAsIEdGUF9LRVJORUwpOzxicj4mZ3Q7ICAgICAg
ICAgICAgICAgICBpZiAoIW5ld192bWEpPGJyPiZndDsgLSAgICAgICAgICAgICAgICAgICAgICAg
cmV0dXJuIE5VTEw7PGJyPiZndDsgKyAgICAgICAgICAgICAgICAgICAgICAgZ290byBvdXQ7PGJy
PiZndDsgICAgICAgICAgICAgICAgICpuZXdfdm1hID0gKnZtYTs8YnI+Jmd0OyAgICAgICAgICAg
ICAgICAgbmV3X3ZtYS0mZ3Q7dm1fc3RhcnQgPSBhZGRyOzxicj4mZ3Q7ICAgICAgICAgICAgICAg
ICBuZXdfdm1hLSZndDt2bV9lbmQgPSBhZGRyICsgbGVuOzxicj4mZ3Q7IEBAIC0yOTcxLDEwICsy
OTcxLDExIEBAIHN0cnVjdCB2bV9hcmVhX3N0cnVjdCAqY29weV92bWEoc3RydWN0IHY8YnI+Jmd0
OyAgICAgICAgIH08YnI+Jmd0OyAgICAgICAgIHJldHVybiBuZXdfdm1hOzxicj4mZ3Q7PGJyPiZn
dDsgLSBvdXRfZnJlZV9tZW1wb2w6PGJyPiZndDsgK291dF9mcmVlX21lbXBvbDo8YnI+Jmd0OyAg
ICAgICAgIG1wb2xfcHV0KHZtYV9wb2xpY3kobmV3X3ZtYSkpOzxicj4mZ3Q7IC0gb3V0X2ZyZWVf
dm1hOjxicj4mZ3Q7ICtvdXRfZnJlZV92bWE6PGJyPiZndDsgICAgICAgICBrbWVtX2NhY2hlX2Zy
ZWUodm1fYXJlYV9jYWNoZXAsIG5ld192bWEpOzxicj4mZ3Q7ICtvdXQ6PGJyPiZndDsgICAgICAg
ICByZXR1cm4gTlVMTDs8YnI+Jmd0OyAgfTxicj4mZ3Q7PGJyPjxicj5JdCBpcyBPSyB0byBtZSwg
dGhhbmtzLjxicj48YnI+RHVyaW5nIHRoZXNlIGRheXMgKDItNCBtb250aHMpLCBJIHNoYWxsIHRy
eSB0byBtYWtlIHNvbWUgcGF0Y2hlcyBmb3I8YnI+TGludXggbW06PGJyPjxicj4gLSBJIGFtIGxl
YXJuaW5nIExpbnV4IGtlcm5lbCBtbXUsIHNvIEkgY2FuIHJlLXVzZSBwYXJ0IG9mIGNvZGUgdG8g
dXNlcjxicj4gICBtb2RlIChhZGQgc29mdG1tdSB0byBxZW11IGxpbnV4IHVzZXIgaW4gbXkgd29y
a2luZyB0aW1lKS4gVGhlbiBJIGNhbjxicj4gICB0cnkgc29tZSBtbSBwYXRjaGVzIHdoZW4gSSBh
bSByZWFkaW5nIHJlbGF0ZWQgY29kZS48YnI+PGJyPiAtIEF0IHByZXNlbnQsIGNyb3NzLWJ1aWxk
aW5nIHZhcmlvdXMgYXJjaHMgd2l0aCBhbGxtb2Rjb25maWcgbG9va3MgT0s8YnI+ICAgKGhhdmUg
bm8gbWFueSBpc3N1ZXMpLCBzbyBmb3IgbWUsIEkgY2FuIHN0b3AgYW5kIHN0YXJ0IGFub3RoZXIg
cGFydHM8YnI+ICAgKGUuZy4gbW11LCBsb29uZ3NvbiBtYWNoaW5lIG9mIG1pcHMgYXJjaCwgLi4u
KS48YnI+PGJyPldlbGNvbWUgYW55IGlkZWFzLCBzdWdnZXN0aW9ucyBhbmQgY29tcGxldGlvbnMg
Zm9yIGl0Ojxicj48YnI+IC0gQXNzdW1lIEkgYW0gbm90IHF1aXRlIGZhbWlsaWFyIHdpdGggbW11
IC0tIGluIGhvbmVzdCwgSSBmZWVsIEkgYW08YnI+ICAgcmVhbGx5IG5vdC48YnI+PGJyPiAtIElz
IGl0IHBvc3NpYmxlIHRvIGJ1aWxkIHRoZSByZWxhdGVkICdzb2Z0bW11JyBhcyBhIG1vZHVsZSB3
aGljaCBjYW48YnI+ICAgYmUgdXNlZCBieSBib3RoIGtlcm5lbCBtb2RlIGFuZCB1c2VyIG1vZGUg
KGlmIHJlYWxseSBpdCBpcywgSSBzaGFsbDxicj4gICB0cnkgdG8gcGVyZm9ybSBpdCAtLSBJIGNh
biBkbyBpdCBpbiBteSB3b3JraW5nIHRpbWUpLjxicj48YnI+IC0gLi4uPGJyPjxicj5UaGFua3Mu
PGJyPi0tPGJyPkNoZW4gR2FuZzxicj48YnI+T3Blbiwgc2hhcmUsIGFuZCBhdHRpdHVkZSBsaWtl
IGFpciwgd2F0ZXIsIGFuZCBsaWZlIHdoaWNoIEdvZCBibGVzc2VkPGJyPiAJCSAJICAgCQkgIA==

--
To unsubscribe, send a message with 'unsubscribe linux-mm' in
the body to majordomo@kvack.org.  For more info on Linux MM,
see: http://www.linux-mm.org/ .
Don't email: <a href=mailto:"dont@kvack.org"> email@kvack.org </a>
