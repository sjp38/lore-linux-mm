Return-Path: <owner-linux-mm@kvack.org>
Received: from psmtp.com (na3sys010amx187.postini.com [74.125.245.187])
	by kanga.kvack.org (Postfix) with SMTP id BF0C66B0031
	for <linux-mm@kvack.org>; Fri, 26 Jul 2013 01:34:24 -0400 (EDT)
Date: Fri, 26 Jul 2013 07:35:55 +0200
Message-ID: <s5h38r19938.wl%tiwai@suse.de>
From: Takashi Iwai <tiwai@suse.de>
Subject: Re: [trivial PATCH] treewide: Fix printks with 0x%#
In-Reply-To: <1374778405.1957.21.camel@joe-AO722>
References: <1374778405.1957.21.camel@joe-AO722>
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Sender: owner-linux-mm@kvack.org
List-ID: <linux-mm.kvack.org>
To: Joe Perches <joe@perches.com>
Cc: Jiri Kosina <trivial@kernel.org>, "James E.J. Bottomley" <jejb@parisc-linux.org>, Helge Deller <deller@gmx.de>, John Stultz <john.stultz@linaro.org>, Thomas Gleixner <tglx@linutronix.de>, Daniele Venzano <venza@brownhat.org>, Andi Kleen <andi@firstfloor.org>, Jaroslav Kysela <perex@perex.cz>, linux-parisc@vger.kernel.org, linux-kernel@vger.kernel.org, netdev@vger.kernel.org, linux-mm@kvack.org, alsa-devel <alsa-devel@alsa-project.org>

At Thu, 25 Jul 2013 11:53:25 -0700,
Joe Perches wrote:
> 
> 
> Using 0x%# emits 0x0x.  Only one is necessary.
> 
> Signed-off-by: Joe Perches <joe@perches.com>

Acked-by: Takashi Iwai <tiwai@suse.de>


thanks,

Takashi

> ---
>  arch/parisc/kernel/signal.c       | 2 +-
>  drivers/clocksource/acpi_pm.c     | 4 ++--
>  drivers/net/ethernet/sis/sis900.c | 2 +-
>  mm/memory-failure.c               | 2 +-
>  sound/pci/ens1370.c               | 2 +-
>  sound/pci/via82xx.c               | 2 +-
>  6 files changed, 7 insertions(+), 7 deletions(-)
> 
> diff --git a/arch/parisc/kernel/signal.c b/arch/parisc/kernel/signal.c
> index 940188d..35c5bf1 100644
> --- a/arch/parisc/kernel/signal.c
> +++ b/arch/parisc/kernel/signal.c
> @@ -85,7 +85,7 @@ restore_sigcontext(struct sigcontext __user *sc, struct pt_regs *regs)
>  	err |= __copy_from_user(regs->iaoq, sc->sc_iaoq, sizeof(regs->iaoq));
>  	err |= __copy_from_user(regs->iasq, sc->sc_iasq, sizeof(regs->iasq));
>  	err |= __get_user(regs->sar, &sc->sc_sar);
> -	DBG(2,"restore_sigcontext: iaoq is 0x%#lx / 0x%#lx\n", 
> +	DBG(2,"restore_sigcontext: iaoq is %#lx / %#lx\n",
>  			regs->iaoq[0],regs->iaoq[1]);
>  	DBG(2,"restore_sigcontext: r28 is %ld\n", regs->gr[28]);
>  	return err;
> diff --git a/drivers/clocksource/acpi_pm.c b/drivers/clocksource/acpi_pm.c
> index 6efe4d1..6eab889 100644
> --- a/drivers/clocksource/acpi_pm.c
> +++ b/drivers/clocksource/acpi_pm.c
> @@ -200,14 +200,14 @@ static int __init init_acpi_pm_clocksource(void)
>  			if ((value2 < value1) && ((value2) < 0xFFF))
>  				break;
>  			printk(KERN_INFO "PM-Timer had inconsistent results:"
> -			       " 0x%#llx, 0x%#llx - aborting.\n",
> +			       " %#llx, %#llx - aborting.\n",
>  			       value1, value2);
>  			pmtmr_ioport = 0;
>  			return -EINVAL;
>  		}
>  		if (i == ACPI_PM_READ_CHECKS) {
>  			printk(KERN_INFO "PM-Timer failed consistency check "
> -			       " (0x%#llx) - aborting.\n", value1);
> +			       " (%#llx) - aborting.\n", value1);
>  			pmtmr_ioport = 0;
>  			return -ENODEV;
>  		}
> diff --git a/drivers/net/ethernet/sis/sis900.c b/drivers/net/ethernet/sis/sis900.c
> index eb4aea3..6c1e34c 100644
> --- a/drivers/net/ethernet/sis/sis900.c
> +++ b/drivers/net/ethernet/sis/sis900.c
> @@ -1723,7 +1723,7 @@ static irqreturn_t sis900_interrupt(int irq, void *dev_instance)
>  
>  	if(netif_msg_intr(sis_priv))
>  		printk(KERN_DEBUG "%s: exiting interrupt, "
> -		       "interrupt status = 0x%#8.8x.\n",
> +		       "interrupt status = %#8.8x\n",
>  		       net_dev->name, sr32(isr));
>  
>  	spin_unlock (&sis_priv->lock);
> diff --git a/mm/memory-failure.c b/mm/memory-failure.c
> index 09ae111..29d3f38 100644
> --- a/mm/memory-failure.c
> +++ b/mm/memory-failure.c
> @@ -1267,7 +1267,7 @@ void memory_failure_queue(unsigned long pfn, int trapno, int flags)
>  	if (kfifo_put(&mf_cpu->fifo, &entry))
>  		schedule_work_on(smp_processor_id(), &mf_cpu->work);
>  	else
> -		pr_err("Memory failure: buffer overflow when queuing memory failure at 0x%#lx\n",
> +		pr_err("Memory failure: buffer overflow when queuing memory failure at %#lx\n",
>  		       pfn);
>  	spin_unlock_irqrestore(&mf_cpu->lock, proc_flags);
>  	put_cpu_var(memory_failure_cpu);
> diff --git a/sound/pci/ens1370.c b/sound/pci/ens1370.c
> index ca8929b..61262f3 100644
> --- a/sound/pci/ens1370.c
> +++ b/sound/pci/ens1370.c
> @@ -1842,7 +1842,7 @@ static int snd_ensoniq_create_gameport(struct ensoniq *ensoniq, int dev)
>  
>  	default:
>  		if (!request_region(io_port, 8, "ens137x: gameport")) {
> -			printk(KERN_WARNING "ens137x: gameport io port 0x%#x in use\n",
> +			printk(KERN_WARNING "ens137x: gameport io port %#x in use\n",
>  			       io_port);
>  			return -EBUSY;
>  		}
> diff --git a/sound/pci/via82xx.c b/sound/pci/via82xx.c
> index 3c511d0..5ae6f04 100644
> --- a/sound/pci/via82xx.c
> +++ b/sound/pci/via82xx.c
> @@ -1940,7 +1940,7 @@ static int snd_via686_create_gameport(struct via82xx *chip, unsigned char *legac
>  
>  	r = request_region(JOYSTICK_ADDR, 8, "VIA686 gameport");
>  	if (!r) {
> -		printk(KERN_WARNING "via82xx: cannot reserve joystick port 0x%#x\n",
> +		printk(KERN_WARNING "via82xx: cannot reserve joystick port %#x\n",
>  		       JOYSTICK_ADDR);
>  		return -EBUSY;
>  	}
> 
> 
> 

--
To unsubscribe, send a message with 'unsubscribe linux-mm' in
the body to majordomo@kvack.org.  For more info on Linux MM,
see: http://www.linux-mm.org/ .
Don't email: <a href=mailto:"dont@kvack.org"> email@kvack.org </a>
