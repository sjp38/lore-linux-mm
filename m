Return-Path: <owner-linux-mm@kvack.org>
Received: from mail-pa0-f49.google.com (mail-pa0-f49.google.com [209.85.220.49])
	by kanga.kvack.org (Postfix) with ESMTP id 8B7C46B0038
	for <linux-mm@kvack.org>; Tue,  6 Jan 2015 23:26:16 -0500 (EST)
Received: by mail-pa0-f49.google.com with SMTP id eu11so2214846pac.8
        for <linux-mm@kvack.org>; Tue, 06 Jan 2015 20:26:16 -0800 (PST)
Received: from mga02.intel.com (mga02.intel.com. [134.134.136.20])
        by mx.google.com with ESMTP id pv3si874234pdb.43.2015.01.06.20.26.14
        for <linux-mm@kvack.org>;
        Tue, 06 Jan 2015 20:26:15 -0800 (PST)
Date: Wed, 7 Jan 2015 12:25:35 +0800
From: kbuild test robot <fengguang.wu@intel.com>
Subject: [PATCH] writeback: fix simple_return.cocci warnings
Message-ID: <20150107042535.GA36032@athens>
References: <201501071230.5cIaA8Xy%fengguang.wu@intel.com>
MIME-Version: 1.0
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
In-Reply-To: <201501071230.5cIaA8Xy%fengguang.wu@intel.com>
Sender: owner-linux-mm@kvack.org
List-ID: <linux-mm.kvack.org>
To: Tejun Heo <tj@kernel.org>
Cc: kbuild-all@01.org, Jens Axboe <axboe@kernel.dk>, Jan Kara <jack@suse.cz>, Andrew Morton <akpm@linux-foundation.org>, Linux Memory Management List <linux-mm@kvack.org>, "Paul E. McKenney" <paulmck@linux.vnet.ibm.com>, Maxim Patlasov <MPatlasov@parallels.com>, Johannes Weiner <hannes@cmpxchg.org>, Derek Basehore <dbasehore@chromium.org>, linux-kernel@vger.kernel.org

mm/backing-dev.c:513:1-4: WARNING: end returns can be simpified and declaration on line 502 can be dropped

 Simplify a trivial if-return sequence.  Possibly combine with a
 preceding function call.
Generated by: scripts/coccinelle/misc/simple_return.cocci

Signed-off-by: Fengguang Wu <fengguang.wu@intel.com>
---

 backing-dev.c |    8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

--- a/mm/backing-dev.c
+++ b/mm/backing-dev.c
@@ -499,8 +499,6 @@ static void bdi_wb_exit(struct bdi_write
 
 int bdi_init(struct backing_dev_info *bdi)
 {
-	int err;
-
 	bdi->dev = NULL;
 
 	bdi->min_ratio = 0;
@@ -510,11 +508,7 @@ int bdi_init(struct backing_dev_info *bd
 	INIT_LIST_HEAD(&bdi->bdi_list);
 	INIT_LIST_HEAD(&bdi->work_list);
 
-	err = bdi_wb_init(&bdi->wb, bdi);
-	if (err)
-		return err;
-
-	return 0;
+	return bdi_wb_init(&bdi->wb, bdi);
 }
 EXPORT_SYMBOL(bdi_init);
 

--
To unsubscribe, send a message with 'unsubscribe linux-mm' in
the body to majordomo@kvack.org.  For more info on Linux MM,
see: http://www.linux-mm.org/ .
Don't email: <a href=mailto:"dont@kvack.org"> email@kvack.org </a>
