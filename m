Date: Tue, 29 Aug 2006 09:32:02 +1000
Message-ID: <874pvw3099.peterc%peterc@gelato.unsw.edu.au>
From: Peter Chubb <peterc@gelato.unsw.edu.au>
In-Reply-To: <1156785119.5913.25.camel@localhost.localdomain>
References: <20060828154413.E05721BD@localhost.localdomain>
	<Pine.LNX.4.64.0608280954100.27677@schroedinger.engr.sgi.com>
	<1156785119.5913.25.camel@localhost.localdomain>
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Subject: Re: [RFC][PATCH 1/7] generic PAGE_SIZE infrastructure (v2)
Sender: owner-linux-mm@kvack.org
Return-Path: <owner-linux-mm@kvack.org>
To: Dave Hansen <haveblue@us.ibm.com>
Cc: Christoph Lameter <clameter@sgi.com>, linux-mm@kvack.org
List-ID: <linux-mm.kvack.org>

>>>>> "Dave" == Dave Hansen <haveblue@us.ibm.com> writes:

>> > +choice > + prompt "Kernel Page Size" > + depends on
>> ARCH_GENERIC_PAGE_SIZE > +config PAGE_SIZE_4KB > + bool "4KB" > +
>> help > + This lets you select the page size of the kernel.  For
>> best 64-bit > + performance, a page size of larger than 4k is
>> recommended.  For best > + 32-bit compatibility on 64-bit
>> architectures, a page size of 4KB > + should be selected (although
>> most binaries work perfectly fine with > + a larger page size).  >
>> + > + 4KB For best 32-bit compatibility > + 8KB and up For best
>> performance > + above 64k For kernel hackers only > + > + If you
>> don't know what to do, choose 8KB (if available).  > + Otherwise,
>> choose 4KB.
>> 
>> The above also would need to be genericized.

Dave> That is genericized. ;) Are there some bits that don't fit ia64
Dave> well?

IA64 wants 16k standard, 64k for better performance.  So something
that says `choose 8k if you can' doesn't really fit.  And it'd be
*really* nice to test larger pages --- I see ~5% improvement in
streaming I/O to a  suitable RAID array with 64k as opposed to 16k
pages.

(The full range of hardware-supported page sizes for Itanium 2 is:
4K, 8K, 16K, 64K, 256K, 1M, 4M, 16M, 64M, 256M, 1G, 4G
and for Itanium 1 is:
4k, 16k, 64k, 256k, 1M, 4M, 16M, 64M, 256M)


--
Dr Peter Chubb  http://www.gelato.unsw.edu.au  peterc AT gelato.unsw.edu.au
http://www.ertos.nicta.com.au           ERTOS within National ICT Australia

--
To unsubscribe, send a message with 'unsubscribe linux-mm' in
the body to majordomo@kvack.org.  For more info on Linux MM,
see: http://www.linux-mm.org/ .
Don't email: <a href=mailto:"dont@kvack.org"> email@kvack.org </a>
