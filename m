Return-Path: <owner-linux-mm@kvack.org>
Received: from mail-oi0-f72.google.com (mail-oi0-f72.google.com [209.85.218.72])
	by kanga.kvack.org (Postfix) with ESMTP id 157546B0005
	for <linux-mm@kvack.org>; Sat,  7 May 2016 06:22:51 -0400 (EDT)
Received: by mail-oi0-f72.google.com with SMTP id f63so256928514oig.1
        for <linux-mm@kvack.org>; Sat, 07 May 2016 03:22:51 -0700 (PDT)
Received: from g4t3426.houston.hp.com (g4t3426.houston.hp.com. [15.201.208.54])
        by mx.google.com with ESMTPS id 89si9210154oto.115.2016.05.07.03.22.50
        for <linux-mm@kvack.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Sat, 07 May 2016 03:22:50 -0700 (PDT)
From: "Luruo, Kuthonuzo" <kuthonuzo.luruo@hpe.com>
Subject: RE: [PATCH] kasan: improve double-free detection
Date: Sat, 7 May 2016 10:21:44 +0000
Message-ID: <20E775CA4D599049A25800DE5799F6DD1F6273B2@G4W3225.americas.hpqcorp.net>
References: <20160502094920.GA3005@cherokee.in.rdlabs.hpecorp.net>
 <CACT4Y+YV4A_YbDq5asowLJPUODottNHAKScWoRdUx6uy+TN-Uw@mail.gmail.com>
 <20E775CA4D599049A25800DE5799F6DD1F61EF48@G9W0752.americas.hpqcorp.net>
 <CACT4Y+Y5n0u=qLA9A=89B07gMVRiQ+6nQaob2_rk_mOOt57iQw@mail.gmail.com>
 <20E775CA4D599049A25800DE5799F6DD1F61F2B7@G9W0752.americas.hpqcorp.net>
 <CACT4Y+b9yo58kgkQR5JD+k5N-LNmEF-rPP8OGzoiKkzYUho6FQ@mail.gmail.com>
In-Reply-To: <CACT4Y+b9yo58kgkQR5JD+k5N-LNmEF-rPP8OGzoiKkzYUho6FQ@mail.gmail.com>
Content-Language: en-US
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
MIME-Version: 1.0
Sender: owner-linux-mm@kvack.org
List-ID: <linux-mm.kvack.org>
To: Dmitry Vyukov <dvyukov@google.com>
Cc: Andrey Ryabinin <aryabinin@virtuozzo.com>, Alexander Potapenko <glider@google.com>, Andrew Morton <akpm@linux-foundation.org>, kasan-dev <kasan-dev@googlegroups.com>, "linux-mm@kvack.org" <linux-mm@kvack.org>, LKML <linux-kernel@vger.kernel.org>

PiA+PiBXZSBjYW4gdXNlIHBlci1oZWFkZXIgbG9jayBieSBzZXR0aW5nIHN0YXR1cyB0byBLQVNB
Tl9TVEFURV9MT0NLRUQuICBBDQo+ID4+IHRocmVhZCBjYW4gQ0FTIGFueSBzdGF0dXMgdG8gS0FT
QU5fU1RBVEVfTE9DS0VEIHdoaWNoIG1lYW5zIHRoYXQgaXQNCj4gPj4gbG9ja2VkIHRoZSBoZWFk
ZXIuIElmIGFueSB0aHJlYWQgdHJpZWQgdG8gbW9kaWZ5L3JlYWQgdGhlIHN0YXR1cyBhbmQNCj4g
Pj4gdGhlIHN0YXR1cyBpcyBLQVNBTl9TVEFURV9MT0NLRUQsIHRoZW4gdGhlIHRocmVhZCB3YWl0
cy4NCj4gPg0KPiA+IFRoYW5rcywgRG1pdHJ5LiBJJ3ZlIHN1Y2Nlc3NmdWxseSB0ZXN0ZWQgd2l0
aCB0aGUgY29uY3VycmVudCBmcmVlIHNsYWJfdGVzdCB0ZXN0DQo+ID4gKGFsbG9jIG9uIGNwdSAw
OyB0aGVuIGNvbmN1cnJlbnQgZnJlZXMgb24gYWxsIG90aGVyIGNwdXMgb24gYSAxMi12Y3B1IEtW
TSkNCj4gdXNpbmc6DQo+ID4NCj4gPiBzdGF0aWMgaW5saW5lIGJvb2wga2FzYW5fYWxsb2Nfc3Rh
dGVfbG9jayhzdHJ1Y3Qga2FzYW5fYWxsb2NfbWV0YSAqYWxsb2NfaW5mbykNCj4gPiB7DQo+ID4g
ICAgICAgICBpZiAoY21weGNoZygmYWxsb2NfaW5mby0+c3RhdGUsIEtBU0FOX1NUQVRFX0FMTE9D
LA0KPiA+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS0FTQU5fU1RBVEVfTE9DS0VE
KSA9PSBLQVNBTl9TVEFURV9BTExPQykNCj4gPiAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7
DQo+ID4gICAgICAgICByZXR1cm4gZmFsc2U7DQo+ID4gfQ0KPiA+DQo+ID4gc3RhdGljIGlubGlu
ZSB2b2lkIGthc2FuX2FsbG9jX3N0YXRlX3VubG9ja193YWl0KHN0cnVjdCBrYXNhbl9hbGxvY19t
ZXRhDQo+ID4gICAgICAgICAgICAgICAgICphbGxvY19pbmZvKQ0KPiA+IHsNCj4gPiAgICAgICAg
IHdoaWxlIChhbGxvY19pbmZvLT5zdGF0ZSA9PSBLQVNBTl9TVEFURV9MT0NLRUQpDQo+ID4gICAg
ICAgICAgICAgICAgIGNwdV9yZWxheCgpOw0KPiA+IH0NCj4gPg0KPiA+IFJhY2UgIndpbm5lciIg
c2V0cyBzdGF0ZSB0byBxdWFyYW50aW5lIGFzIHRoZSBsYXN0IHN0ZXA6DQo+ID4NCj4gPiAgICAg
ICAgIGlmIChrYXNhbl9hbGxvY19zdGF0ZV9sb2NrKGFsbG9jX2luZm8pKSB7DQo+ID4gICAgICAg
ICAgICAgICAgIGZyZWVfaW5mbyA9IGdldF9mcmVlX2luZm8oY2FjaGUsIG9iamVjdCk7DQo+ID4g
ICAgICAgICAgICAgICAgIHF1YXJhbnRpbmVfcHV0KGZyZWVfaW5mbywgY2FjaGUpOw0KPiA+ICAg
ICAgICAgICAgICAgICBzZXRfdHJhY2soJmZyZWVfaW5mby0+dHJhY2ssIEdGUF9OT1dBSVQpOw0K
PiA+ICAgICAgICAgICAgICAgICBrYXNhbl9wb2lzb25fc2xhYl9mcmVlKGNhY2hlLCBvYmplY3Qp
Ow0KPiA+ICAgICAgICAgICAgICAgICBhbGxvY19pbmZvLT5zdGF0ZSA9IEtBU0FOX1NUQVRFX1FV
QVJBTlRJTkU7DQo+ID4gICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KPiA+ICAgICAgICAg
fSBlbHNlDQo+ID4gICAgICAgICAgICAgICAgIGthc2FuX2FsbG9jX3N0YXRlX3VubG9ja193YWl0
KGFsbG9jX2luZm8pOw0KPiA+DQo+ID4gTm93LCBJJ20gbm90IHN1cmUgd2hldGhlciBvbiBjdXJy
ZW50IEtBU0FOLXN1cHBvcnRlZCBhcmNocywgc3RhdGUgYnl0ZSBsb2FkDQo+IGluDQo+ID4gdGhl
IGJ1c3ktd2FpdCBsb29wIGlzIGF0b21pYyB3cnQgdGhlIEtBU0FOX1NUQVRFX1FVQVJBTlRJTkUg
Ynl0ZSBzdG9yZS4NCj4gPiBXb3VsZCB5b3UgYWR2aXNlIHVzaW5nIENBUyBwcmltaXRpdmVzIGZv
ciBsb2FkL3N0b3JlIGhlcmUgdG9vPw0KPiANCj4gU3RvcmUgdG8gc3RhdGUgbmVlZHMgdG8gdXNl
IHNtcF9zdG9yZV9yZWxlYXNlIGZ1bmN0aW9uLCBvdGhlcndpc2UNCj4gc3RvcmVzIHRvIGZyZWVf
aW5mby0+dHJhY2sgY2FuIHNpbmsgYmVsb3cgdGhlIHN0b3JlIHRvIHN0YXRlLg0KPiBTaW1pbGFy
bHksIGxvYWRzIG9mIHN0YXRlIGluIGthc2FuX2FsbG9jX3N0YXRlX3VubG9ja193YWl0IG5lZWQg
dG8gdXNlDQo+IHNtcF9zdG9yZV9hY3F1aXJlLg0KPiANCj4gQSBmdW5jdGlvbiBzaW1pbGFyIHRv
IGthc2FuX2FsbG9jX3N0YXRlX2xvY2sgd2lsbCBhbHNvIGJlIG5lZWRlZCBmb3INCj4gS0FTQU5f
U1RBVEVfUVVBUkFOVElORSAtPiBLQVNBTl9TVEFURV9BTExPQyBzdGF0ZSB0cmFuc2l0aW9uICh3
aGVuIHdlDQo+IHJldXNlIHRoZSBvYmplY3QpLiBJZiBhIHRocmVhZCB0cmllZCB0byByZXBvcnQg
dXNlLWFmdGVyLWZyZWUgd2hlbg0KPiBhbm90aGVyIHRocmVhZCBwdXNoZXMgdGhlIG9iamVjdCBv
dXQgb2YgcXVhcmFudGluZSBhbmQgb3ZlcndyaXRlcw0KPiBhbGxvY19pbmZvLT50cmFjaywgdGhl
IHRocmVhZCB3aWxsIHByaW50IGEgYm9ndXMgc3RhY2suDQo+IA0KPiBrYXNhbl9hbGxvY19zdGF0
ZV91bmxvY2tfd2FpdCBpcyBub3QgZW5vdWdoIHRvIHByZXZlbnQgdGhlIHJhY2VzLg0KPiBDb25z
aWRlciB0aGF0IGEgdGhyZWFkIGV4ZWN1dGVzIGthc2FuX2FsbG9jX3N0YXRlX3VubG9ja193YWl0
IGFuZA0KPiBwcm9jZWVkcyB0byByZXBvcnRpbmcsIGF0IHRoaXMgcG9pbnQgYW5vdGhlciB0aHJl
YWQgcHVzaGVzIHRoZSBvYmplY3QNCj4gdG8gcXVhcmFudGluZSBvciBvdXQgb2YgdGhlIHF1YXJh
bnRpbmUgYW5kIG92ZXJ3cml0ZXMgdHJhY2tzLiBUaGUNCj4gZmlyc3QgdGhyZWFkIHdpbGwgcmVh
ZCBpbmNvbnNpc3RlbnQgZGF0YSBmcm9tIHRoZSBoZWFkZXIuIEFueSB0aHJlYWQNCj4gdGhhdCBy
ZWFkcy93cml0ZXMgaGVhZGVyIG5lZWRzIHRvICgxKSB3YWl0IHdoaWxlIHN0YXR1cyBpcw0KPiBL
QVNBTl9TVEFURV9MT0NLRUQsICgyKSBDQVMgc3RhdHVzIHRvIEtBU0FOX1NUQVRFX0xPQ0tFRCwg
KDMpDQo+IHJlYWQvd3JpdGUgaGVhZGVyLCAoNCkgcmVzdG9yZS91cGRhdGUgc3RhdHVzIGFuZCBl
ZmZlY3RpdmVseSB1bmxvY2sNCj4gdGhlIGhlYWRlci4NCj4gQWx0ZXJuYXRpdmVseSwgd2UgY2Fu
IGludHJvZHVjZSBMT0NLRUQgYml0IHRvIGhlYWRlci4gVGhlbiBpdCB3aWxsIGJlDQo+IHNpbXBs
ZXIgZm9yIHJlYWRlcnMgdG8gc2V0L3Vuc2V0IHRoZSBiaXQuDQoNClRoYW5rcy4gQXMgaW1wbGVt
ZW50ZWQgaW4gdjIsIGFsbCBhY2Nlc3NlcyB0byBvYmplY3QgYWxsb2MgbWV0YWRhdGEgKGFsbG9j
LA0KZGVhbGxvYywgYnVnIHJlcG9ydCBhbmQgcXVhcmFudGluZSByZWxlYXNlKSBhcmUgbm93IHBl
cmZvcm1lZCB1bmRlcg0KcHJvdGVjdGlvbiBvZiBhIGxvY2sgYml0LiBZb3VyIHN1Z2dlc3RlZCBj
bXB4Y2hnKCkgbG9vcCBmb3IgdGhlIGxvY2sgaXMNCnBhaXJlZCB3aXRoIGFuIHhjaGcoKSBvbiB1
bmxvY2sgd2hpY2ggc2hvdWxkIGFkZHJlc3MgdGhlIG1lbW9yeSBvcmRlcmluZw0KaXNzdWUuDQoN
CkluIHlvdXIgcmFjZSBzY2VuYXJpbyBiZXR3ZWVuIFVBRiBhbmQgb2JqZWN0IHJldXNlIGZyb20g
bmV3IGFsbG9jLCBpZg0Ka21hbGxvYyB3aW5zLCAiVUFGIiByZXBvcnQgIHdvdWxkIGJlIGJhZCAo
cHJvYmFibHkgYnVnIHR5cGUNCiJ1bmtub3duLWNyYXNoIiB3aXRoIHRocmVhZCBzdGFjayArIGFs
bG9jIHN0YWNrKS4gVG8gY2xvc2UgdGhpcyB3aW5kb3csDQpvYmplY3QgbWV0YSBsb2NrIHdvdWxk
IG5lZWQgdG8gYWNxdWlyZWQgbXVjaCBjbG9zZXIgdG8gcG9pbnQgb2YgYmFkDQphY2Nlc3MgZGV0
ZWN0aW9uLiBQYXRjaCBkb2VzIG5vdCBhZGRyZXNzIHRoaXMgcmFjZS4gSG93IGRvZXMgQVNBTg0K
YWRkcmVzcyB0aGlzPw0KDQpLdXRob251em8NCg==

--
To unsubscribe, send a message with 'unsubscribe linux-mm' in
the body to majordomo@kvack.org.  For more info on Linux MM,
see: http://www.linux-mm.org/ .
Don't email: <a href=mailto:"dont@kvack.org"> email@kvack.org </a>
