Return-Path: <owner-linux-mm@kvack.org>
Received: from mail-pg0-f69.google.com (mail-pg0-f69.google.com [74.125.83.69])
	by kanga.kvack.org (Postfix) with ESMTP id 2C1B46B0033
	for <linux-mm@kvack.org>; Fri,  3 Feb 2017 18:44:59 -0500 (EST)
Received: by mail-pg0-f69.google.com with SMTP id v184so40059400pgv.6
        for <linux-mm@kvack.org>; Fri, 03 Feb 2017 15:44:59 -0800 (PST)
Received: from mga02.intel.com (mga02.intel.com. [134.134.136.20])
        by mx.google.com with ESMTPS id 10si22055504pgg.262.2017.02.03.15.44.58
        for <linux-mm@kvack.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Fri, 03 Feb 2017 15:44:58 -0800 (PST)
From: "Xiong, Jinshan" <jinshan.xiong@intel.com>
Subject: Re: [lustre-devel] [PATCH] mm: Avoid returning VM_FAULT_RETRY from
 ->page_mkwrite handlers
Date: Fri, 3 Feb 2017 23:44:57 +0000
Message-ID: <E91BA9E8-7469-46BB-B3B2-072F95D061EE@intel.com>
References: <20170203150729.15863-1-jack@suse.cz>
In-Reply-To: <20170203150729.15863-1-jack@suse.cz>
Content-Language: en-US
Content-Type: text/plain; charset="utf-8"
Content-ID: <34CE369AB4B4544490D6A81D93492FFA@intel.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
Sender: owner-linux-mm@kvack.org
List-ID: <linux-mm.kvack.org>
To: Jan Kara <jack@suse.cz>
Cc: Al Viro <viro@ZenIV.linux.org.uk>, "cluster-devel@redhat.com" <cluster-devel@redhat.com>, "linux-mm@kvack.org" <linux-mm@kvack.org>, "linux-fsdevel@vger.kernel.org" <linux-fsdevel@vger.kernel.org>, Andrew
 Morton <akpm@linux-foundation.org>, "lustre-devel@lists.lustre.org" <lustre-devel@lists.lustre.org>

SGkgSmFuLA0KDQpUaGFua3MgZm9yIHRoZSBwYXRjaC4gDQoNClRoZSBwcm9wb3NlZCBwYXRjaCBz
aG91bGQgYmUgYWJsZSB0byBmaXggdGhlIHByb2JsZW0sIGhvd2V2ZXIsIGRvIHlvdSB0aGluayBp
dCB3b3VsZCBiZSBhIGJldHRlciBhcHByb2FjaCBieSByZXZpc2luZyBpdCBhczoNCg0K4oCmDQpj
YXNlIC1FQUdBSU46DQoJaWYgKHZtZi0+ZmxhZ3MgJiBGQVVMVF9GTEFHX0FMTE9XX1JFVFJZKSB7
DQoJCXVwX3JlYWQoJm1tLT5tbWFwX3NlbSk7DQoJCXJldHVybiBWTV9GQVVMVF9SRVRSWTsNCgl9
DQoJcmV0dXJuIFZNX0ZBVUxUX05PUEFHRTsNCuKApg0KDQpUaGlzIHdheSBpdCBjYW4gcmV0cnkg
ZmF1bHQgcm91dGluZSBpbiBtbSBpbnN0ZWFkIG9mIGxldHRpbmcgQ1BVIGhhdmUgYSBuZXcgZmF1
bHQgYWNjZXNzLg0KDQpUaGFua3MsDQpKaW5zaGFuDQoNCj4gT24gRmViIDMsIDIwMTcsIGF0IDc6
MDcgQU0sIEphbiBLYXJhIDxqYWNrQHN1c2UuY3o+IHdyb3RlOg0KPiANCj4gU29tZSAtPnBhZ2Vf
bWt3cml0ZSBoYW5kbGVycyBtYXkgcmV0dXJuIFZNX0ZBVUxUX1JFVFJZIGFzIGl0cyByZXR1cm4N
Cj4gY29kZSAoR0ZTMiBvciBMdXN0cmUgY2FuIGRlZmluaXRlbHkgZG8gdGhpcykuIEhvd2V2ZXIg
Vk1fRkFVTFRfUkVUUlkNCj4gZnJvbSAtPnBhZ2VfbWt3cml0ZSBpcyBjb21wbGV0ZWx5IHVuaGFu
ZGxlZCBieSB0aGUgbW0gY29kZSBhbmQgcmVzdWx0cw0KPiBpbiBsb2NraW5nIGFuZCB3cml0ZWFi
bHkgbWFwcGluZyB0aGUgcGFnZSB3aGljaCBkZWZpbml0ZWx5IGlzIG5vdCB3aGF0DQo+IHRoZSBj
YWxsZXIgd2FudGVkLiBGaXggTHVzdHJlIGFuZCBibG9ja19wYWdlX21rd3JpdGVfcmV0KCkgdXNl
ZCBieSBvdGhlcg0KPiBmaWxlc3lzdGVtcyAobm90YWJseSBHRlMyKSB0byByZXR1cm4gVk1fRkFV
TFRfTk9QQUdFIGluc3RlYWQgd2hpY2gNCj4gcmVzdWx0cyBpbiBiYWlsaW5nIG91dCBmcm9tIHRo
ZSBmYXVsdCBjb2RlLCB0aGUgQ1BVIHRoZW4gcmV0cmllcyB0aGUNCj4gYWNjZXNzLCBhbmQgd2Ug
ZmF1bHQgYWdhaW4gZWZmZWN0aXZlbHkgZG9pbmcgd2hhdCB0aGUgaGFuZGxlciB3YW50ZWQuDQo+
IA0KPiBDQzogbHVzdHJlLWRldmVsQGxpc3RzLmx1c3RyZS5vcmcNCj4gQ0M6IGNsdXN0ZXItZGV2
ZWxAcmVkaGF0LmNvbQ0KPiBSZXBvcnRlZC1ieTogQWwgVmlybyA8dmlyb0BaZW5JVi5saW51eC5v
cmcudWs+DQo+IFNpZ25lZC1vZmYtYnk6IEphbiBLYXJhIDxqYWNrQHN1c2UuY3o+DQo+IC0tLQ0K
PiBkcml2ZXJzL3N0YWdpbmcvbHVzdHJlL2x1c3RyZS9sbGl0ZS9sbGl0ZV9tbWFwLmMgfCA0ICst
LS0NCj4gaW5jbHVkZS9saW51eC9idWZmZXJfaGVhZC5oICAgICAgICAgICAgICAgICAgICAgIHwg
NCArLS0tDQo+IDIgZmlsZXMgY2hhbmdlZCwgMiBpbnNlcnRpb25zKCspLCA2IGRlbGV0aW9ucygt
KQ0KPiANCj4gZGlmZiAtLWdpdCBhL2RyaXZlcnMvc3RhZ2luZy9sdXN0cmUvbHVzdHJlL2xsaXRl
L2xsaXRlX21tYXAuYyBiL2RyaXZlcnMvc3RhZ2luZy9sdXN0cmUvbHVzdHJlL2xsaXRlL2xsaXRl
X21tYXAuYw0KPiBpbmRleCBlZTAxZjIwZDhiMTEuLjlhZmE2YmVjM2U2ZiAxMDA2NDQNCj4gLS0t
IGEvZHJpdmVycy9zdGFnaW5nL2x1c3RyZS9sdXN0cmUvbGxpdGUvbGxpdGVfbW1hcC5jDQo+ICsr
KyBiL2RyaXZlcnMvc3RhZ2luZy9sdXN0cmUvbHVzdHJlL2xsaXRlL2xsaXRlX21tYXAuYw0KPiBA
QCAtMzkwLDE1ICszOTAsMTMgQEAgc3RhdGljIGludCBsbF9wYWdlX21rd3JpdGUoc3RydWN0IHZt
X2FyZWFfc3RydWN0ICp2bWEsIHN0cnVjdCB2bV9mYXVsdCAqdm1mKQ0KPiAJCXJlc3VsdCA9IFZN
X0ZBVUxUX0xPQ0tFRDsNCj4gCQlicmVhazsNCj4gCWNhc2UgLUVOT0RBVEE6DQo+ICsJY2FzZSAt
RUFHQUlOOg0KPiAJY2FzZSAtRUZBVUxUOg0KPiAJCXJlc3VsdCA9IFZNX0ZBVUxUX05PUEFHRTsN
Cj4gCQlicmVhazsNCj4gCWNhc2UgLUVOT01FTToNCj4gCQlyZXN1bHQgPSBWTV9GQVVMVF9PT007
DQo+IAkJYnJlYWs7DQo+IC0JY2FzZSAtRUFHQUlOOg0KPiAtCQlyZXN1bHQgPSBWTV9GQVVMVF9S
RVRSWTsNCj4gLQkJYnJlYWs7DQo+IAlkZWZhdWx0Og0KPiAJCXJlc3VsdCA9IFZNX0ZBVUxUX1NJ
R0JVUzsNCj4gCQlicmVhazsNCj4gZGlmZiAtLWdpdCBhL2luY2x1ZGUvbGludXgvYnVmZmVyX2hl
YWQuaCBiL2luY2x1ZGUvbGludXgvYnVmZmVyX2hlYWQuaA0KPiBpbmRleCBkNjdhYjgzODIzYWQu
Ljc5NTkxYzM2NjBjYyAxMDA2NDQNCj4gLS0tIGEvaW5jbHVkZS9saW51eC9idWZmZXJfaGVhZC5o
DQo+ICsrKyBiL2luY2x1ZGUvbGludXgvYnVmZmVyX2hlYWQuaA0KPiBAQCAtMjQzLDEyICsyNDMs
MTAgQEAgc3RhdGljIGlubGluZSBpbnQgYmxvY2tfcGFnZV9ta3dyaXRlX3JldHVybihpbnQgZXJy
KQ0KPiB7DQo+IAlpZiAoZXJyID09IDApDQo+IAkJcmV0dXJuIFZNX0ZBVUxUX0xPQ0tFRDsNCj4g
LQlpZiAoZXJyID09IC1FRkFVTFQpDQo+ICsJaWYgKGVyciA9PSAtRUZBVUxUIHx8IGVyciA9PSAt
RUFHQUlOKQ0KPiAJCXJldHVybiBWTV9GQVVMVF9OT1BBR0U7DQo+IAlpZiAoZXJyID09IC1FTk9N
RU0pDQo+IAkJcmV0dXJuIFZNX0ZBVUxUX09PTTsNCj4gLQlpZiAoZXJyID09IC1FQUdBSU4pDQo+
IC0JCXJldHVybiBWTV9GQVVMVF9SRVRSWTsNCj4gCS8qIC1FTk9TUEMsIC1FRFFVT1QsIC1FSU8g
Li4uICovDQo+IAlyZXR1cm4gVk1fRkFVTFRfU0lHQlVTOw0KPiB9DQo+IC0tIA0KPiAyLjEwLjIN
Cj4gDQo+IF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fDQo+
IGx1c3RyZS1kZXZlbCBtYWlsaW5nIGxpc3QNCj4gbHVzdHJlLWRldmVsQGxpc3RzLmx1c3RyZS5v
cmcNCj4gaHR0cDovL2xpc3RzLmx1c3RyZS5vcmcvbGlzdGluZm8uY2dpL2x1c3RyZS1kZXZlbC1s
dXN0cmUub3JnDQoNCg==

--
To unsubscribe, send a message with 'unsubscribe linux-mm' in
the body to majordomo@kvack.org.  For more info on Linux MM,
see: http://www.linux-mm.org/ .
Don't email: <a href=mailto:"dont@kvack.org"> email@kvack.org </a>
