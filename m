Received: from ucla.edu (pool0048-max4.ucla-ca-us.dialup.earthlink.net [207.217.13.240])
	by panther.noc.ucla.edu (8.9.1a/8.9.1) with ESMTP id IAA09101
	for <linux-mm@kvack.org>; Fri, 2 Jun 2000 08:20:40 -0700 (PDT)
Message-ID: <3937D0DC.9E5A27BC@ucla.edu>
Date: Fri, 02 Jun 2000 08:21:00 -0700
From: Benjamin Redelings I <bredelin@ucla.edu>
MIME-Version: 1.0
Subject: Confused: memory leak when writing out buffers in pre9?
Content-Type: text/plain; charset=us-ascii
Content-Transfer-Encoding: 7bit
Sender: owner-linux-mm@kvack.org
Return-Path: <owner-linux-mm@kvack.org>
To: linux-mm@kvack.org
List-ID: <linux-mm.kvack.org>

Hi, I haven't gotten a chance to try ac7 and Rik's latest patch yet. 
However, pre9 does pretty well except in one case that really puzzles
me.

Basically, when my system runs updatedb from cron, the 'used+shar' field
in xosview grows really huge.  But new programs aren't run!  I would
understand if the BUFFER section got huge,but thats not happening.

When I first start my computer (gnome + netscape), 'free' looks like
this:

             total       used       free     shared    buffers    
cached
Mem:         62740      61620       1120          0        436     
29896
-/+ buffers/cache:      31288      31452
Swap:       128484       3708     124776

(summary: 31288 used , 31452 free, 3708 swapp)

After find from updatedb runs for a while, it then looks like THIS:

             total       used       free     shared    buffers    
cached
Mem:         62740      61996        744          0       1116      
7812
-/+ buffers/cache:      53068       9672
Swap:       128484      24840     103644

(summary: 53068 used, 9672 free, 24840 swap)

So, after NOT running any new programs (except find, I suppose) 42 Mb of
SOMETHING is now in the 'used' section.  I'm guessing that this is the
dirty pages generated by updatedb - but why are they not in 'buffers'?

Thanks for any explanation :)  (BTW, why is 'shared' always 0?)

-BenRI
-- 
"I want to be in the light, as He is in the Light,
 I want to shine like the stars in the heavens." - DC Talk, "In the
Light"
Benjamin Redelings I      <><     http://www.bol.ucla.edu/~bredelin/
--
To unsubscribe, send a message with 'unsubscribe linux-mm' in
the body to majordomo@kvack.org.  For more info on Linux MM,
see: http://www.linux.eu.org/Linux-MM/
