Return-Path: <owner-linux-mm@kvack.org>
Received: from mail-wr0-f198.google.com (mail-wr0-f198.google.com [209.85.128.198])
	by kanga.kvack.org (Postfix) with ESMTP id 6B70E6B0356
	for <linux-mm@kvack.org>; Wed,  3 Jan 2018 09:32:13 -0500 (EST)
Received: by mail-wr0-f198.google.com with SMTP id w18so911540wra.5
        for <linux-mm@kvack.org>; Wed, 03 Jan 2018 06:32:13 -0800 (PST)
Received: from mx01.bbu.dsd.mx.bitdefender.com (mx01.bbu.dsd.mx.bitdefender.com. [91.199.104.161])
        by mx.google.com with ESMTPS id j9si887194wrc.162.2018.01.03.06.32.11
        for <linux-mm@kvack.org>
        (version=TLS1_2 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128);
        Wed, 03 Jan 2018 06:32:12 -0800 (PST)
Received: from smtp01.buh.bitdefender.com (smtp.bitdefender.biz [10.17.80.75])
	by mx-sr.buh.bitdefender.com (Postfix) with ESMTP id B5D247FC04
	for <linux-mm@kvack.org>; Wed,  3 Jan 2018 16:32:10 +0200 (EET)
Message-ID: <1514989930.2751.33.camel@bitdefender.com>
Subject: Re: [RFC PATCH v4 00/18] VM introspection
From: Mihai =?UTF-8?Q?Don=C8=9Bu?= <mdontu@bitdefender.com>
Date: Wed, 03 Jan 2018 16:32:10 +0200
In-Reply-To: <310d60aa-9979-cb73-058d-831ca6b98dfa@gmail.com>
References: <20171218190642.7790-1-alazar@bitdefender.com>
	 <310d60aa-9979-cb73-058d-831ca6b98dfa@gmail.com>
Content-Type: text/plain; charset="UTF-8"
Mime-Version: 1.0
Content-Transfer-Encoding: 8bit
Sender: owner-linux-mm@kvack.org
List-ID: <linux-mm.kvack.org>
To: Xiao Guangrong <guangrong.xiao@gmail.com>, Adalber =?UTF-8?Q?Laz=C4=83r?= <alazar@bitdefender.com>, kvm@vger.kernel.org
Cc: linux-mm@kvack.org, Paolo Bonzini <pbonzini@redhat.com>, Radim =?UTF-8?Q?Kr=C4=8Dm=C3=A1=C5=99?= <rkrcmar@redhat.com>, Xiao Guangrong <guangrong.xiao@linux.intel.com>

On Wed, 2018-01-03 at 11:34 +0800, Xiao Guangrong wrote:
> On 12/19/2017 03:06 AM, Adalber LazA?r wrote:
> > From: Adalbert Lazar <alazar@bitdefender.com>
> > 
> > This patch series proposes a VM introspection subsystem for KVM (KVMI).
> > 
> > The previous RFC can be read here: https://marc.info/?l=kvm&m=150514457912721
> > 
> > These patches were tested on kvm/master,
> > commit 43aabca38aa9668eee3c3c1206207034614c0901 (Merge tag 'kvm-arm-fixes-for-v4.15-2' of git://git.kernel.org/pub/scm/linux/kernel/git/kvmarm/kvmarm into HEAD).
> > 
> > In this iteration we refactored the code based on the feedback received
> > from Paolo and others.
> 
> I am thinking if we can define some check points in KVM where
> BPF programs are allowed to attach, then employ the policies
> in BPFs instead...

That would be a nice feature to have. For example, we could use it to
pre-filter the events (eg. drop EPT #PF events generated by A/D bit
updates). Also, sure, given how BPF has evolved in Linux these past few
years (see JIT) we could upload some pretty complex introspection
logic.

Regards,

-- 
Mihai DonE?u

--
To unsubscribe, send a message with 'unsubscribe linux-mm' in
the body to majordomo@kvack.org.  For more info on Linux MM,
see: http://www.linux-mm.org/ .
Don't email: <a href=mailto:"dont@kvack.org"> email@kvack.org </a>
