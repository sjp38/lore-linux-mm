Date: Tue, 01 Apr 2008 20:31:38 +1100
Message-ID: <878wzxsyyt.wl%peter@chubb.wattle.id.au>
From: Peter Chubb <peterc@gelato.unsw.edu.au>
In-Reply-To: <804dabb00804010154t1aec08b3y3add0117fd409748@mail.gmail.com>
References: <804dabb00804010154t1aec08b3y3add0117fd409748@mail.gmail.com>
MIME-Version: 1.0 (generated by SEMI 1.14.6 - "Maruoka")
Content-Type: text/plain; charset=US-ASCII
Subject: Re: RFC: swaptrace tool
Sender: owner-linux-mm@kvack.org
Return-Path: <owner-linux-mm@kvack.org>
To: Peter Teoh <htmldeveloper@gmail.com>
Cc: Kernel Newbies <kernelnewbies@nl.linux.org>, linux-mm@kvack.org
List-ID: <linux-mm.kvack.org>

>>>>> "Peter" == Peter Teoh <htmldeveloper@gmail.com> writes:

Peter> Go through this: http://linux-mm.org/LinuxMMProjects

Peter> and u find there is no swaptrace.  What I want is a
Peter> visualization of how the swap is being use.  So once the
Peter> operation is started, all swap operation will be immediately
Peter> written to an area in memory, showing how the swap is written -
Peter> the destination begin offset / destination end offset/size
Peter> info, and by what process/task - and its correspond source
Peter> begin offset, and source end offset.  The data content itself
Peter> will not be recorded.  Then after some time, via ioctl()
Peter> control, it will be stopped, and all that have been written to
Peter> memory will be flushed out to a file.  This flushing to
Peter> external file only take place after the data collection has
Peter> stopped, otherwise, the swap operations itself will affect the
Peter> behavior of the swap, thus rendering the data collection
Peter> invalid.

You could probably do this with blktrace for a swap partition, which
can do exactly this on any block device.   For swap files, it's a bit harder.

--
Dr Peter Chubb  http://www.gelato.unsw.edu.au  peterc AT gelato.unsw.edu.au
http://www.ertos.nicta.com.au           ERTOS within National ICT Australia

--
To unsubscribe, send a message with 'unsubscribe linux-mm' in
the body to majordomo@kvack.org.  For more info on Linux MM,
see: http://www.linux-mm.org/ .
Don't email: <a href=mailto:"dont@kvack.org"> email@kvack.org </a>
